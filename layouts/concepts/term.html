{{ define "main" }}
    {{ if (and (and .Params.concepts (.Scratch.Get "conceptShortcodes")) (ne (len (complement (.Scratch.Get "conceptShortcodes") .Params.concepts)) 0)) }}
        {{ errorf `Page "%s" contains concept terms that are not used in concept shortcodes.` .Page.Title }}
    {{ end }}
    <div class="bg-zinc-200 dark:bg-zinc-800">
        {{ $hero := .Resources.GetMatch "hero" }}
        {{ if $hero }}
            <div class="max-w-screen-xl mx-auto">
                {{ partial "pages/single/hero.html" . | partial "pages/container.html" }}
            </div>
        {{ else }}
        <div class="max-w-screen-lg mx-auto 3xl:px-12">
            {{ partial "pages/single/hero.html" . | partial "pages/container.html" }}
        </div>
        {{ end }}
    </div>
    {{ partial "concepts/single.html" . | partial "pages/single/post-container.html" }}
{{ end }}

{{ define "partials/concepts/single.html" }}
    {{ partial "pages/single/toc.html" . }}
    {{ partial "pages/content.html" . }}
    {{ partial "pages/single/references.html" . }}
{{ end }}
