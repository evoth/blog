{{ $url := .Get 0 }}
{{ $number := 0 }}
{{ with (.Page.Scratch.Get "references") }}
    {{ $number = len . }}
{{ end }}
{{ .Page.Scratch.Add "references" (slice (dict "Url" $url "Title" (.Get 1) "Subtitle" (.Get 2) "Page" .Page.RelPermalink "Number" $number)) }}
{{ if .Inner }}
    {{- partial "tooltips/tooltip-link.html" (dict "Destination" $url "Text" (.Page.RenderString .Inner)) -}}
{{ end }}