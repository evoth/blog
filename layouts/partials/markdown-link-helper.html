{{ $isExternal := or (hasPrefix .Destination "http://") (hasPrefix .Destination "https://") -}}
<a href="{{ if $isExternal }}{{ .Destination | safeURL }}{{ else }}{{ with site.GetPage .Destination }}{{ .RelPermalink | safeURL }}{{ end }}{{ end }}"{{ with .Title }} title="{{ . }}"{{ end }}{{ if $isExternal }} target="_blank" rel="noopener"{{ end }}>{{ .Text | safeHTML }}</a>